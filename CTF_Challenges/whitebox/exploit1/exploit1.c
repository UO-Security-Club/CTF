#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void printFlag()
{
	FILE * fp;
	char * line = NULL;
	size_t len = 0;
	ssize_t read;
	fp = fopen("flag.txt", "r");
	if(fp == NULL)
		exit(1);

	while ((read = getline(&line, &len, fp)) != -1) {
		printf("%s\n", line);
	}

	fflush(stdout);
	fclose(fp);
	if(line)
		free(line);

	return;
}

void main()
{
	volatile int i = 0;
	char buf[12];

	printf("Hello!\nHow are you?\n");
	fflush(stdout);

	fgets(buf, 16, stdin);

	printf("i = 0x%08x\n", i);

	if(i != 0)
		printFlag();

	return;
}
